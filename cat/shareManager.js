import { assertIsNumber } from "src/cat/libs/utils";
import { SHARE_SCRIPT_NAME } from "src/cat/libs/constants";
import { NetscriptExtension } from "src/cat/libs/NetscriptExtension";
let nsx;
async function main(ns) {
  nsx = new NetscriptExtension(ns);
  nsx.killProcessesSpawnFromSameScript();
  const threads = ns.args[0];
  assertIsNumber(threads, "Invalid number of threads");
  while (true) {
    nsx.runScriptOnAvailablePrivateRunners(
      true,
      true,
      true,
      SHARE_SCRIPT_NAME,
      threads
    );
    await ns.sleep(1e4);
  }
}
export {
  main
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vc3JjL3NoYXJlTWFuYWdlci50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiaW1wb3J0IHtOU30gZnJvbSBcIkBuc1wiO1xyXG5pbXBvcnQge2Fzc2VydElzTnVtYmVyfSBmcm9tIFwiL2xpYnMvdXRpbHNcIjtcclxuaW1wb3J0IHtTSEFSRV9TQ1JJUFRfTkFNRX0gZnJvbSBcIi9saWJzL2NvbnN0YW50c1wiO1xyXG5pbXBvcnQge05ldHNjcmlwdEV4dGVuc2lvbn0gZnJvbSBcIi9saWJzL05ldHNjcmlwdEV4dGVuc2lvblwiO1xyXG5cclxubGV0IG5zeDogTmV0c2NyaXB0RXh0ZW5zaW9uO1xyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIG1haW4obnM6IE5TKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICBuc3ggPSBuZXcgTmV0c2NyaXB0RXh0ZW5zaW9uKG5zKTtcclxuICAgIG5zeC5raWxsUHJvY2Vzc2VzU3Bhd25Gcm9tU2FtZVNjcmlwdCgpO1xyXG5cclxuICAgIGNvbnN0IHRocmVhZHMgPSBucy5hcmdzWzBdO1xyXG4gICAgYXNzZXJ0SXNOdW1iZXIodGhyZWFkcywgXCJJbnZhbGlkIG51bWJlciBvZiB0aHJlYWRzXCIpO1xyXG4gICAgLy8gUnVuIHNoYXJlIHNjcmlwdFxyXG4gICAgd2hpbGUgKHRydWUpIHtcclxuICAgICAgICBuc3gucnVuU2NyaXB0T25BdmFpbGFibGVQcml2YXRlUnVubmVycyhcclxuICAgICAgICAgICAgdHJ1ZSxcclxuICAgICAgICAgICAgdHJ1ZSxcclxuICAgICAgICAgICAgdHJ1ZSxcclxuICAgICAgICAgICAgU0hBUkVfU0NSSVBUX05BTUUsXHJcbiAgICAgICAgICAgIHRocmVhZHNcclxuICAgICAgICApO1xyXG4gICAgICAgIGF3YWl0IG5zLnNsZWVwKDEwMDAwKTtcclxuICAgIH1cclxufVxyXG4iXSwKICAibWFwcGluZ3MiOiAiQUFDQSxTQUFRLHNCQUFxQjtBQUM3QixTQUFRLHlCQUF3QjtBQUNoQyxTQUFRLDBCQUF5QjtBQUVqQyxJQUFJO0FBRUosZUFBc0IsS0FBSyxJQUF1QjtBQUM5QyxRQUFNLElBQUksbUJBQW1CLEVBQUU7QUFDL0IsTUFBSSxpQ0FBaUM7QUFFckMsUUFBTSxVQUFVLEdBQUcsS0FBSyxDQUFDO0FBQ3pCLGlCQUFlLFNBQVMsMkJBQTJCO0FBRW5ELFNBQU8sTUFBTTtBQUNULFFBQUk7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLElBQ0o7QUFDQSxVQUFNLEdBQUcsTUFBTSxHQUFLO0FBQUEsRUFDeEI7QUFDSjsiLAogICJuYW1lcyI6IFtdCn0K
